{"componentChunkName":"component---src-components-templates-blog-post-index-tsx","path":"/2019-11-07/create-react-app-eslint/","webpackCompilationHash":"b3430a56d7cbfa29baf1","result":{"data":{"markdownRemark":{"html":"<p>이번엔 create-react-app의 eject기능 없이 eslint 설정을 바꾸는 방법을 알려드리겠습니다.</p>\n<h1 id=\"create-react-app-이란\"><a href=\"#create-react-app-%EC%9D%B4%EB%9E%80\" aria-label=\"create react app 이란 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>create-react-app 이란?</h1>\n<p>create-react-app은 리액트 프로젝트를 처음 시작할때 사용하는 프로젝트 시작 커맨드입니다. 대부분의 react 시작하기 관련 글을 읽으시면 이를 이용해 시작하는 것을 볼수있습니다.</p>\n<p>이 커맨드를 왜 많이 사용하냐면, react 프로젝트에서 webpack, eslint 등 빌드 툴들에 이 빌드 툴들의 플러그인까지 설정할건 아주 아주 많습니다. 이를 한방에 해결해주는게 create-react-app이며, 이를 이용해 만들어진 프로젝트는 react-scripts라는 커맨드 패키지가 설치되어 여기서 모두 관리해주게됩니다. 그러면서 저희는 오직 리액트 앱 소스코드만 관리하면되는 장점이 있습니다.</p>\n<h2 id=\"그럼-무슨-문제가-있나요\"><a href=\"#%EA%B7%B8%EB%9F%BC-%EB%AC%B4%EC%8A%A8-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EC%9E%88%EB%82%98%EC%9A%94\" aria-label=\"그럼 무슨 문제가 있나요 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그럼 무슨 문제가 있나요?</h2>\n<p>모든 빌드 툴과 플러그인을 관리해주었지만 그 설정을 바꾸는 방법은 어렵거나 알려지지도, 존재하지도 않습니다. 그저 이 react-scripts를 떼어내는 <code class=\"language-text\">npm run eject</code>라는 커맨드로 모든 빌드 툴을 프로젝트 코드에 직접 설치해주는 방식을 사용한 방법이 많이 알려져있죠.</p>\n<p>이 eject는 모든 툴들을 프로젝트 소스에 병합하는 형태라 한번 사용하게되면 되돌릴 수 없고, 또한 모든 툴들을 직접 관리해줘야 하죠. 예를들어 webpack의 버전을 업그레이드 하고싶다면 react-scripts를 업데이트하면 끝이지만, eject를 하게되면 webpack과 함께 같이 사용하는 플러그인들까지도 함께 맞는 버전으로 업그레이드 해줘야합니다.</p>\n<h2 id=\"그러면-어떻게-할건데\"><a href=\"#%EA%B7%B8%EB%9F%AC%EB%A9%B4-%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%A0%EA%B1%B4%EB%8D%B0\" aria-label=\"그러면 어떻게 할건데 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그러면 어떻게 할건데?</h2>\n<p>최근 2019년 9월에 한 Pull Request가 creat-react-app의 공식 저장소에 올라왔습니다. (<a href=\"https://github.com/facebook/create-react-app/pull/7530\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">링크</a>)</p>\n<blockquote>\n<p>참고: create-react-app 패키지 코드내에 <a href=\"https://github.com/facebook/create-react-app/tree/master/packages/react-scripts\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">react-scripts 코드</a>가 같이있습니다.</p>\n</blockquote>\n<p>해당내용은 \"<code class=\"language-text\">EXTEND_ESLINT</code> 환경변수를 넣으면, eslint의 설정을 프로젝트의 소스에서 가져오는 것을 허용합니다.\"라는 내용입니다. 딱 저희가 원하던 내용이고, 이미 Merged된 상태입니다.</p>\n<p>저는 직접 적용하기 위해 Pull Request의 대화 내용 보다는 코드를 직접 찾아봐 수정사항을 확인했습니다. 자세히 보면</p>\n<p><img src=\"https://user-images.githubusercontent.com/1689721/68362273-11803f00-016a-11ea-9663-f9064a3c0253.png\" alt=\"carbon (2)\"></p>\n<p>이와같이 <code class=\"language-text\">process.env.EXTEND_ESLINT</code>를 true로 바꿔주면 eslint의 설정 파일을 저희 앱의 소스코드에서 불러오는 것을 확인할 수 있습니다.</p>\n<blockquote>\n<p><code class=\"language-text\">process.env</code>는 node.js에서 환경변수가 저장된 객체입니다.</p>\n</blockquote>\n<h2 id=\"적용해보자\"><a href=\"#%EC%A0%81%EC%9A%A9%ED%95%B4%EB%B3%B4%EC%9E%90\" aria-label=\"적용해보자 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>적용해보자.</h2>\n<p>이제 적용하기위해 패키지를 설치해야하는데 그냥 <code class=\"language-text\">npm install -g create-react-app</code>을 사용해 최신버전을 설치해준후 react 프로젝트를 생성하시거나, 이미 진행중인 프로젝트에서는 <code class=\"language-text\">npm install react-scripts</code>를 진행해주시면 됩니다.</p>\n<blockquote>\n<p>주의: 이미 <code class=\"language-text\">npm run eject</code>를 진행하신 경우는 다시 react-scripts를 붙이는건 굉장히 어렵습니다. 그러니 새로 프로젝트를 생성하는 것을 추천드립니다.</p>\n</blockquote>\n<p>이렇게 패키지를 업데이트 해주시면 적용할 준비는 모두 완료되었습니다.</p>\n<p>이제 환경변수를 설정할 차례입니다. 저희는 react-scripts에서 기본으로 제공하는 dotenv를 이용할 예정입니다.</p>\n<blockquote>\n<p>참고: <a href=\"https://create-react-app.dev/docs/adding-custom-environment-variables/#expanding-environment-variables-in-env\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">create-react-app의 공식문서 설명 중 dotenv</a>\npackage.json에서 react-scripts 실행하는 부분에 환경변수를 추가하셔도 무방합니다.</p>\n</blockquote>\n<p>프로젝트 소스 코드 최상단에 <code class=\"language-text\">.env</code>라는 파일을 만들고 다음과같이 작성합니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/1689721/68362271-104f1200-016a-11ea-8f0c-782d5e744144.png\" alt=\"carbon (1)\"></p>\n<p>이제 이파일은 react-scripts의 dotenv패키지가 로드되면서 저희가 추가한 파일을 찾아 불러오게됩니다. 불러온 환경변수들은 모두 node.js의 기본으로 저장되는 <code class=\"language-text\">process.env</code>라는 곳에 저장하게 됩니다.</p>\n<p>이제 eslint를 저희가 설정할 수 있습니다. 그러니 <code class=\"language-text\">.eslintrc.json</code>을 만들어 저희가 사용할 eslint의 설정파일을 만들어줍니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/1689721/68362333-4391a100-016a-11ea-8753-b940baad393e.png\" alt=\"carbon (4)\"></p>\n<p>이제 <code class=\"language-text\">npm start</code>를 실행해보시면 바뀐 eslint설정때문에 오류나 경고가 나올껍니다. 만약에 적용됬는지 잘모르겠으면 rules의 indent를 8로 설정해보세요. 대부분 사람들이 사용하는 코드 들여쓰기가 4칸, 2칸으로 설정되있어서 무조건 오류가 발생해야합니다.</p>\n<p>eslint는 코드관리에 아주 중요한 툴입니다. 여기에 prettify에 husky까지 적용하면 여러 사람과 협업할때 각자의 코드스타일이나 사용안하는 변수, import등을 eslint를 이용해 찾아내고, 또한 이런 검사에 CI까지 적용시켜 Pull Request까지 막아버리시면 아주 좋은 코드 관리가 될 수 있겠습니다.</p>","frontmatter":{"title":"[React] create-react-app에서 eject 없이 eslint 사용하기","date":"2019.11.07","category":"React"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2019-11-07/create-react-app-eslint/","previous":{"fields":{"slug":"/Working/"},"frontmatter":{"title":"블로그가 공사중입니다... :D","template":"BlogPost"}},"next":null}}}